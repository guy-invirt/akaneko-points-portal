<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚ã‹ã­ã“ãƒã‚¤ãƒ³ãƒˆ ãƒãƒ¼ã‚¿ãƒ«ã‚µã‚¤ãƒˆ</title>
    <style>
        /* (CSSã¯å¤‰æ›´ãªã—ã€‚å‰å›ã¨åŒã˜ã‚‚ã®ã‚’ãã®ã¾ã¾ä½¿ç”¨) */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f7f7f7;
            color: #333;
            margin: 0;
            padding: 20px;
            text-align: center;
        }

        header {
            background-color: #ff6347;
            color: white;
            padding: 15px 0;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            margin: 0;
            font-size: 2em;
        }

        #point-list-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }

        .point-entry {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
        }

        .point-entry:last-child {
            border-bottom: none;
        }

        .point-entry strong {
            font-size: 1.1em;
            color: #ff6347;
        }

        .point-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #007bff;
        }

        #last-updated {
            margin-top: 20px;
            font-size: 0.9em;
            color: #777;
        }
    </style>
</head>
<body>

    <header>
        <h1>ğŸˆ ã‚ã‹ã­ã“ãƒã‚¤ãƒ³ãƒˆ ãƒãƒ¼ã‚¿ãƒ«ã‚µã‚¤ãƒˆ ğŸ’°</h1>
    </header>

    <div id="point-list-container">
        <h2>ç¾åœ¨ã®ãƒã‚¤ãƒ³ãƒˆçŠ¶æ³</h2>

        <div id="points-output">
            </div>

        <p id="last-updated">æœ€çµ‚æ›´æ–°æ—¥: <span></span></p>
    </div>

    <script>
        const DATA_URL = 'points.json';
        const outputDiv = document.getElementById('points-output');

        function loadPoints() {
            // points.jsonãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€
            fetch(DATA_URL)
                .then(response => {
                    // èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™
                    if (!response.ok) {
                        throw new Error('ãƒã‚¤ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ');
                    }
                    return response.json();
                })
                .then(data => {
                    let htmlContent = '';
                    
                    // JSONãƒ‡ãƒ¼ã‚¿ï¼ˆé…åˆ—ï¼‰ã‚’ä¸€ã¤ãšã¤å‡¦ç†ã—ã¦HTMLéƒ¨å“ã‚’çµ„ã¿ç«‹ã¦ã‚‹
                    data.forEach(person => {
                        // scoreã«ã‚«ãƒ³ãƒã‚’ä»˜ã‘ã¦è¦‹ã‚„ã™ãã™ã‚‹
                        const formattedScore = person.score.toLocaleString();
                        
                        htmlContent += `
                            <div class="point-entry">
                                <span><strong>${person.name}</strong>ã•ã‚“ã®ãƒã‚¤ãƒ³ãƒˆ</span>
                                <span class="point-value">${formattedScore} P</span>
                            </div>
                        `;
                    });

                    // çµ„ã¿ç«‹ã¦ãŸHTMLã‚’ãƒšãƒ¼ã‚¸ã«æŒ¿å…¥
                    outputDiv.innerHTML = htmlContent;

                    // æœ€çµ‚æ›´æ–°æ—¥ã‚’æ›´æ–°
                    const today = new Date().toLocaleDateString('ja-JP', {year: 'numeric', month: 'long', day: 'numeric'});
                    document.querySelector('#last-updated span').textContent = today;
                })
                .catch(error => {
                    console.error('ã‚¨ãƒ©ãƒ¼:', error);
                    outputDiv.innerHTML = '<p style="color:red;">ãƒã‚¤ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸã€‚points.jsonãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>';
                });
        }

        // ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚ŒãŸã‚‰ãƒã‚¤ãƒ³ãƒˆã‚’ãƒ­ãƒ¼ãƒ‰é–‹å§‹
        loadPoints();
    </script>
</body>
</html>
